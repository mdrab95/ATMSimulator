@model tut1.Models.TransferViewModel
@{
    ViewBag.Title = "Deposit";
}

<h2>Deposit</h2>

@Html.Partial("_DepositForm")

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")

    <script>
        // delegate submit event to document, since form might be replaced
        $(document).on('submit', '#depositForm', function () {
            var $theForm = $(this);
            // manually trigger validation
            if ($theForm.valid()) {
                $('#progress').show();
                $.post("", $theForm.serialize())
                    .done(function(response){
                    $theForm.replaceWith(response);
                    })
            }
            return false;
        });
    </script>
}

